{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Login - Nirmal</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/login_page.css' %}" >
    <style>
      .pct-input {
    padding: 8px;
  }
  .toast-timeout-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    height: 3px;
    background: rgba(255, 255, 255, 0.7);
    animation: timeout-progress 5s linear forwards;
    border-radius: 0 0 0.375rem 0.375rem;
  }
  
  @keyframes timeout-progress {
      from { width: 100%; }
      to { width: 0%; }
  }
  
  .toast-container-custom {
      top: 70px !important;
      z-index: 1050;
  }
  
  .toast {
      position: relative;
      overflow: hidden;
  }

=======
     .toast-container {
            z-index: 1050;
            max-width: 400px;
        }
        
        .toast {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 12px;
            animation: slideInDown 0.3s ease-out;
        }
        
        .toast.hide {
            animation: slideOutUp 0.3s ease-in forwards;
        }
        
        @keyframes slideInDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        @keyframes slideOutUp {
            from {
                transform: translateY(0);
                opacity: 1;
            }
            to {
                transform: translateY(-100%);
                opacity: 0;
            }
        }
        
        .toast-body {
            padding: 12px 16px;
            font-weight: 500;
        }
        
        .toast-progress {
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .toast-progress-bar {
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            width: 100%;
            animation: progressBar 5s linear forwards;
        }
        
        @keyframes progressBar {
            from { width: 100%; }
            to { width: 0%; }
        }
        
        .btn-close-white {
            filter: invert(1) grayscale(100%) brightness(200%);
        }
        
        .toast-icon {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            flex-shrink: 0;
        }
    </style>
    
</head>

<body>
    

    <!-- Bootstrap JS -->
  <div class="content">
  <form action="{% url "login_page" %}" method="POST">
    {% csrf_token %}
   <section class="h-100 gradient-form" style="background-color: #eee;">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-10">
        <div class="card rounded-3 text-black">
          <div class="row g-0">
            <div class="col-lg-6">
              <div class="card-body p-md-5 mx-md-4">

                <div class="text-center">
                  
                    <img src="{% static 'assets/img/nirmal_logo.png' %}"
                    style="width: 185px;" alt="logo">
                  <h4 class="mt-1 mb-2 pb-1">Nirmal Group</h4>
                      <p>Please login to your account</p>
                </div>

                
              

                  <div data-mdb-input-init class="form-outline mb-9">
                    <label class="form-label fw-bold" for="username">Username</label>
                    <input type="username" name="username" id="username" class="form-control"
                      placeholder="Enter Your Username" maxlength="20"/>
                    
                  </div><br>

                  <div data-mdb-input-init class="form-outline mb-4">
                    <label class="form-label fw-bold"  for="password">Password</label>
                    <input type="password" id="passsword" name="password"  placeholder="Enter Password" class="form-control"  maxlength="20"/>
                    
                  </div>

                  <div class="text-center pt-1 mb-5 pb-1">
                    <button data-mdb-button-init data-mdb-ripple-init class="btn btn-primary btn-block mb-3" type="submit">Log
                      in Now</button><br>
                    <a class="text-muted" href="{% url "password_reset" %}">Forgot password?</a>
                  </div>

           
                

              </div>
            </div>
            <div class="col-lg-6 d-flex align-items-center gradient-custom-2">
              <div class="text-white px-3 py-4 p-md-5 mx-md-4">
                <h4 class="mb-4">We are more than just a company</h4>
                <p class="small mb-0">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                  tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                  exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
  </form>
</div>

{% comment %} <script {% static 'js/login_page.js' %}></script> {% endcomment %}


<div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3" id="toastContainer">
        {% if messages %}
            {% for message in messages %}
            <div class="toast align-items-center text-bg-{% if message.tags == 'error' %}danger{% else %}{{ message.tags }}{% endif %} border-0 show" role="alert" data-toast-id="{{ forloop.counter }}">
                <div class="d-flex">
                    <div class="toast-body d-flex align-items-center">
                        {% if message.tags == 'error' %}
                        <svg xmlns="http://www.w3.org/2000/svg" class="toast-icon" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                            <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"/>
                        </svg>
                        {% elif message.tags == 'success' %}
                        <svg xmlns="http://www.w3.org/2000/svg" class="toast-icon" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.061L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                        </svg>
                        {% endif %}
                        <span  class="flex-grow-1">{{ message }}</span>
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" onclick="closeToast({{ forloop.counter }})"></button>
                </div>
                <div class="toast-progress">
                    <div class="toast-progress-bar"></div>
                </div>
            </div>
            {% endfor %}
        {% endif %}
</div>

 <script>
        function closeToast(id) {
            const toast = document.querySelector(`[data-toast-id="${id}"]`);
            if (toast) {
                toast.classList.add('hide');
                setTimeout(() => {
                    if (toast.parentNode) {
                        toast.parentNode.removeChild(toast);s
                    }
                }, 300);
            }
        }

        // Auto-close toasts after 5 seconds
        document.addEventListener('DOMContentLoaded', function() {
            const toasts = document.querySelectorAll('.toast[data-toast-id]');
            toasts.forEach((toast, index) => {
                const id = toast.getAttribute('data-toast-id');
                setTimeout(() => {
                    closeToast(id);
                }, 5000);
            });
        });
</script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
   
</body>


</html>